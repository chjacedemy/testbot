const _0x3654ab=_0x3997;(function(_0x3e233b,_0x55ef4b){const _0x404de8=_0x3997,_0x37d131=_0x3e233b();while(!![]){try{const _0x1fab11=-parseInt(_0x404de8(0x77))/0x1*(parseInt(_0x404de8(0x95))/0x2)+-parseInt(_0x404de8(0x82))/0x3*(-parseInt(_0x404de8(0x99))/0x4)+parseInt(_0x404de8(0x7e))/0x5*(-parseInt(_0x404de8(0xa8))/0x6)+parseInt(_0x404de8(0x85))/0x7*(parseInt(_0x404de8(0xa7))/0x8)+-parseInt(_0x404de8(0x9e))/0x9*(-parseInt(_0x404de8(0x7a))/0xa)+parseInt(_0x404de8(0x80))/0xb*(-parseInt(_0x404de8(0xaa))/0xc)+-parseInt(_0x404de8(0x8e))/0xd*(-parseInt(_0x404de8(0x94))/0xe);if(_0x1fab11===_0x55ef4b)break;else _0x37d131['push'](_0x37d131['shift']());}catch(_0x382f6){_0x37d131['push'](_0x37d131['shift']());}}}(_0x16fe,0x2a6a0));const axios=require('axios');let koyeb_api=process[_0x3654ab(0xa6)][_0x3654ab(0x76)],axiosConfig={'headers':{'Content-Type':_0x3654ab(0xa4),'Authorization':'Bearer\x20'+koyeb_api}};function _0x16fe(){const _0x214b2d=['\x20._','ports','docker','Successfuly\x20changed\x20var\x20_','459329CxFLha','key','prod','exports','ERROR','*\x20:\x20_','238HkvjMK','15882EAAzMY','https://app.koyeb.com/v1/deployments/','STOPPED','deployment','172OPPZnJ','services','definition','push','true','9kDMDip','routes','patch','latest_deployment_id','/redeploy','split','application/json;charset=UTF-8','_Please\x20put\x20Koyeb\x20api\x20key\x20in\x20var\x20KOYEB_API._\x0aEg:\x20KOYEB_API:api\x20key','env','48fVwOol','242922OQUbAQ','health_checks','573780dmnqCP','status','then','data','_update\x20started._','scalings','_No\x20such\x20env\x20in\x20koyeb._','https://app.koyeb.com/v1/services','includes','KOYEB_API','41UpLYVj','length','\x20var\x20from\x20koyeb._','1469830Unyrsi','STOPPING','get','deployments','35EiHWFN','region:fra','11Bntxvn','*Got\x20an\x20error\x20in\x20redeploying.*\x0a*Please\x20put\x20koyeb\x20api\x20key\x20in\x20var\x20KOYEB_API.*\x0a_Eg:\x20KOYEB_API:api\x20key\x20from\x20https://app.koyeb.com/account/api\x20._','5217LirXPg','_Successfully\x20deleted\x20','https://app.koyeb.com/v1/services/','9464WZOyBh','instance_types','regions','value','join'];_0x16fe=function(){return _0x214b2d;};return _0x16fe();}function _0x3997(_0x25adbb,_0x4d35b9){const _0x16fe14=_0x16fe();return _0x3997=function(_0x399703,_0x4e4dc2){_0x399703=_0x399703-0x74;let _0x1e3580=_0x16fe14[_0x399703];return _0x1e3580;},_0x3997(_0x25adbb,_0x4d35b9);}async function get_deployments(){const _0x27a862=_0x3654ab;status=![];let _0x87ecda={'headers':{'Content-Type':_0x27a862(0xa4),'Authorization':'Bearer\x20'+koyeb_api}};return await axios[_0x27a862(0x7c)]('https://app.koyeb.com/v1/deployments',_0x87ecda)[_0x27a862(0xac)](_0x4bf8a9=>{const _0x21fdee=_0x27a862;let _0xd50993=[_0x21fdee(0x97),_0x21fdee(0x7b),_0x21fdee(0x92),'ERRPRING'],_0x3f6e51=[];for(let _0xec31b4=0x0;_0xec31b4<_0x4bf8a9[_0x21fdee(0xad)][_0x21fdee(0x7d)][_0x21fdee(0x78)];_0xec31b4++){!_0xd50993[_0x21fdee(0x75)](_0x4bf8a9['data'][_0x21fdee(0x7d)][_0xec31b4]['status'])&&_0x3f6e51[_0x21fdee(0x9c)](_0x4bf8a9[_0x21fdee(0xad)][_0x21fdee(0x7d)][_0xec31b4][_0x21fdee(0xab)]);}if(_0x3f6e51[_0x21fdee(0x78)]>0x1)status=_0x21fdee(0x9d);}),status;}function checkArray(_0x43affc,_0x18b373){const _0x3896ec=_0x3654ab;var _0x5ca7be=![];for(var _0x14f37d=0x0;_0x14f37d<_0x43affc[_0x3896ec(0x78)];_0x14f37d++){if(_0x43affc[_0x14f37d][_0x3896ec(0x8f)]==_0x18b373){_0x5ca7be=!![];break;}}return _0x5ca7be;}async function delvar(_0x1a41b2){const _0x38908d=_0x3654ab;var _0x109f1b=![];let {data:_0x3d794a}=await axios[_0x38908d(0x7c)](_0x38908d(0x74),axiosConfig),_0x1e76fa=_0x3d794a[_0x38908d(0x9a)][0x0]['id'],_0x3f8992=await axios[_0x38908d(0x7c)](_0x38908d(0x96)+_0x3d794a['services'][0x0][_0x38908d(0xa1)],axiosConfig),_0x41f5bf=checkArray(_0x3f8992[_0x38908d(0xad)][_0x38908d(0x98)][_0x38908d(0x9b)][_0x38908d(0xa6)],_0x1a41b2);if(_0x41f5bf!==!![])return _0x38908d(0xb0);let _0x468aed=[];for(var _0x2af2d1=0x0;_0x2af2d1<_0x3f8992[_0x38908d(0xad)][_0x38908d(0x98)][_0x38908d(0x9b)]['env'][_0x38908d(0x78)];_0x2af2d1++){if(_0x3f8992['data']['deployment'][_0x38908d(0x9b)][_0x38908d(0xa6)][_0x2af2d1][_0x38908d(0x8f)]===_0x1a41b2)continue;_0x468aed[_0x38908d(0x9c)](_0x3f8992[_0x38908d(0xad)][_0x38908d(0x98)][_0x38908d(0x9b)]['env'][_0x2af2d1]);}let _0xbaa383={'definition':{'name':_0x3f8992['data'][_0x38908d(0x98)][_0x38908d(0x9b)]['name'],'routes':_0x3f8992[_0x38908d(0xad)][_0x38908d(0x98)][_0x38908d(0x9b)][_0x38908d(0x9f)],'ports':_0x3f8992[_0x38908d(0xad)][_0x38908d(0x98)][_0x38908d(0x9b)][_0x38908d(0x8b)],'env':_0x468aed,'regions':_0x3f8992[_0x38908d(0xad)][_0x38908d(0x98)][_0x38908d(0x9b)][_0x38908d(0x87)],'scalings':_0x3f8992['data'][_0x38908d(0x98)][_0x38908d(0x9b)][_0x38908d(0xaf)],'instance_types':_0x3f8992['data'][_0x38908d(0x98)][_0x38908d(0x9b)][_0x38908d(0x86)],'health_checks':_0x3f8992[_0x38908d(0xad)][_0x38908d(0x98)][_0x38908d(0x9b)][_0x38908d(0xa9)],'docker':_0x3f8992[_0x38908d(0xad)]['deployment']['definition'][_0x38908d(0x8c)]}};return await axios[_0x38908d(0xa0)](_0x38908d(0x84)+_0x1e76fa,_0xbaa383,axiosConfig)[_0x38908d(0xac)](_0x4f476d=>{const _0x3a5999=_0x38908d;_0x4f476d[_0x3a5999(0xab)]===0xc8?_0x109f1b=_0x3a5999(0x83)+_0x1a41b2+_0x3a5999(0x79):_0x109f1b=_0x3a5999(0xa5);}),_0x109f1b;}async function change_env(_0xc34a76){const _0x14be18=_0x3654ab;var _0x365c2c=_0x14be18(0xa5);let {data:_0x3c52d4}=await axios['get'](_0x14be18(0x74),axiosConfig),_0xa3d060=_0x3c52d4[_0x14be18(0x9a)][0x0]['id'],_0x10ebcd=await axios['get'](_0x14be18(0x96)+_0x3c52d4['services'][0x0][_0x14be18(0xa1)],axiosConfig),_0x28ea80=_0xc34a76[_0x14be18(0xa3)](':'),_0x5df4c7=[];for(var _0x4536a9=0x0;_0x4536a9<_0x10ebcd[_0x14be18(0xad)][_0x14be18(0x98)]['definition'][_0x14be18(0xa6)][_0x14be18(0x78)];_0x4536a9++){_0x10ebcd['data'][_0x14be18(0x98)][_0x14be18(0x9b)][_0x14be18(0xa6)][_0x4536a9]['key']===_0x28ea80[0x0]?_0x5df4c7[_0x14be18(0x9c)]({'scopes':[_0x14be18(0x7f)],'key':''+_0x28ea80[0x0],'value':''+_0x28ea80[0x1]}):_0x5df4c7[_0x14be18(0x9c)](_0x10ebcd[_0x14be18(0xad)][_0x14be18(0x98)][_0x14be18(0x9b)]['env'][_0x4536a9]);}let _0x43f11d=checkArray(_0x5df4c7,_0x28ea80[0x0]);!_0x43f11d===!![]&&_0x5df4c7[_0x14be18(0x9c)]({'scopes':[_0x14be18(0x7f)],'key':''+_0x28ea80[0x0],'value':''+_0x28ea80[0x1]});let _0x3edce5={'definition':{'name':_0x10ebcd[_0x14be18(0xad)][_0x14be18(0x98)][_0x14be18(0x9b)]['name'],'routes':_0x10ebcd['data'][_0x14be18(0x98)][_0x14be18(0x9b)][_0x14be18(0x9f)],'ports':_0x10ebcd[_0x14be18(0xad)][_0x14be18(0x98)][_0x14be18(0x9b)][_0x14be18(0x8b)],'env':_0x5df4c7,'regions':_0x10ebcd[_0x14be18(0xad)]['deployment'][_0x14be18(0x9b)][_0x14be18(0x87)],'scalings':_0x10ebcd[_0x14be18(0xad)][_0x14be18(0x98)][_0x14be18(0x9b)][_0x14be18(0xaf)],'instance_types':_0x10ebcd['data']['deployment'][_0x14be18(0x9b)]['instance_types'],'health_checks':_0x10ebcd[_0x14be18(0xad)][_0x14be18(0x98)]['definition'][_0x14be18(0xa9)],'docker':_0x10ebcd['data'][_0x14be18(0x98)][_0x14be18(0x9b)][_0x14be18(0x8c)]}};return await axios[_0x14be18(0xa0)](_0x14be18(0x84)+_0xa3d060,_0x3edce5,axiosConfig)[_0x14be18(0xac)](_0x237c70=>{const _0x34962d=_0x14be18;_0x237c70['status']===0xc8?_0x365c2c=_0x34962d(0x8d)+_0x28ea80[0x0]+':'+_0x28ea80[0x1]+_0x34962d(0x8a):_0x365c2c=_0x34962d(0xa5);}),_0x365c2c;}async function getallvar(){const _0x575eb7=_0x3654ab;let {data:_0x381a9e}=await axios[_0x575eb7(0x7c)](_0x575eb7(0x74),axiosConfig),_0xd0148e=await axios[_0x575eb7(0x7c)](_0x575eb7(0x96)+_0x381a9e[_0x575eb7(0x9a)][0x0][_0x575eb7(0xa1)],axiosConfig),_0x220c76=[];for(var _0x6f776f=0x0;_0x6f776f<_0xd0148e[_0x575eb7(0xad)][_0x575eb7(0x98)]['definition'][_0x575eb7(0xa6)][_0x575eb7(0x78)];_0x6f776f++){if(!_0xd0148e['data'][_0x575eb7(0x98)][_0x575eb7(0x9b)][_0x575eb7(0xa6)][_0x6f776f][_0x575eb7(0x8f)])continue;_0x220c76[_0x575eb7(0x9c)]('*'+_0xd0148e[_0x575eb7(0xad)][_0x575eb7(0x98)][_0x575eb7(0x9b)][_0x575eb7(0xa6)][_0x6f776f]['key']+_0x575eb7(0x93)+_0xd0148e[_0x575eb7(0xad)][_0x575eb7(0x98)][_0x575eb7(0x9b)][_0x575eb7(0xa6)][_0x6f776f][_0x575eb7(0x88)]+'_');}return _0x220c76[_0x575eb7(0x89)]('\x0a');}async function getvar(_0x2a8916){const _0x33ec92=_0x3654ab;let {data:_0x86af56}=await axios[_0x33ec92(0x7c)]('https://app.koyeb.com/v1/services',axiosConfig),_0x489690=await axios[_0x33ec92(0x7c)](_0x33ec92(0x96)+_0x86af56[_0x33ec92(0x9a)][0x0][_0x33ec92(0xa1)],axiosConfig);for(var _0x2b5845=0x0;_0x2b5845<_0x489690[_0x33ec92(0xad)]['deployment'][_0x33ec92(0x9b)][_0x33ec92(0xa6)]['length'];_0x2b5845++){if(!_0x489690['data'][_0x33ec92(0x98)][_0x33ec92(0x9b)][_0x33ec92(0xa6)][_0x2b5845][_0x33ec92(0x8f)])continue;if(_0x489690[_0x33ec92(0xad)][_0x33ec92(0x98)]['definition'][_0x33ec92(0xa6)][_0x2b5845][_0x33ec92(0x8f)]===_0x2a8916)return _0x489690[_0x33ec92(0xad)]['deployment'][_0x33ec92(0x9b)][_0x33ec92(0xa6)][_0x2b5845][_0x33ec92(0x8f)]+':'+_0x489690[_0x33ec92(0xad)]['deployment'][_0x33ec92(0x9b)][_0x33ec92(0xa6)][_0x2b5845][_0x33ec92(0x88)];}}async function redeploy(){const _0x3652f3=_0x3654ab;var _0x597fca=![],_0x137094={'deployment_group':_0x3652f3(0x90),'sha':''};let {data:_0x20de44}=await axios[_0x3652f3(0x7c)](_0x3652f3(0x74),axiosConfig),_0x37bab3=_0x20de44['services'][0x0]['id'];try{let _0x14a467=await axios['post'](_0x3652f3(0x84)+_0x37bab3+_0x3652f3(0xa2),_0x137094,axiosConfig);_0x597fca=_0x3652f3(0xae);}catch(_0x1d8184){_0x597fca=_0x3652f3(0x81);}return _0x597fca;}module[_0x3654ab(0x91)]={'redeploy':redeploy,'getvar':getvar,'delvar':delvar,'getallvar':getallvar,'change_env':change_env,'get_deployments':get_deployments};
